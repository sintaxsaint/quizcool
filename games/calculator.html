<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Quizcool — Calculator</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root { --bg:#0b0f1a; --card:#121826; --muted:#8aa0b6; --text:#e6eef8; --accent:#4f9cf0; --accent2:#7c4dff }
    * { box-sizing: border-box }
    html,body { height:100% }
    body { margin:0; background: radial-gradient(1200px 600px at 80% -10%, #1b2a40 0%, #0b0f1a 45%), var(--bg); color: var(--text); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif }
    .topbar { position: sticky; top:0; z-index:10; display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 16px; background:#0e1524cc; backdrop-filter: blur(6px); border-bottom:1px solid #22314b }
    .brand { display:flex; align-items:center; gap:10px }
    .logo { width:32px; height:32px; border-radius:10px; background: linear-gradient(135deg, var(--accent), var(--accent2)); display:grid; place-items:center; font-weight:700 }
    .title { font-weight:700 }
    .btn { background:#1a2233; border:1px solid #28324a; color:var(--text); padding:8px 12px; border-radius:10px; font-weight:600; text-decoration:none }
    .btn:hover { background:#212a3f }
    .wrap { height: calc(100vh - 58px); display:flex; align-items:center; justify-content:center; padding:16px }
    .calc { width:320px; background:#0f1624; border:1px solid #22314b; border-radius:14px; padding:12px; display:grid; gap:10px }
    .expr { background:#0f1624; border:1px solid #22314b; border-radius:10px; padding:8px; font-size:14px; color:var(--muted); text-align:right; min-height:24px }
    .display { background:#121826; border:1px solid #22314b; border-radius:10px; padding:12px; font-size:24px; text-align:right; min-height:48px }
    .keys { display:grid; grid-template-columns: repeat(4, 1fr); gap:8px }
    .adv { display:grid; grid-template-columns: repeat(5, 1fr); gap:8px; margin-top:8px }
    .key { background:#1a2233; border:1px solid #28324a; color:var(--text); padding:12px; border-radius:10px; font-weight:600; text-align:center; cursor:pointer; user-select:none }
    .key:hover { background:#212a3f }
    .span2 { grid-column: span 2 }
  </style>
</head>
<body>
  <script>(function(){var u=sessionStorage.getItem('qc_user');if(!u){location.href='../auth.html';return}try{var me=JSON.parse(u)}catch(e){sessionStorage.removeItem('qc_user');location.href='../auth.html';return}var banned=[];try{banned=JSON.parse(localStorage.getItem('qc_banned')||'[]')}catch(e){}if(me.email!=='ereadman2013@gmail.com'&&Array.isArray(banned)&&banned.indexOf(me.email)>-1){sessionStorage.removeItem('qc_user');location.href='../auth.html';return}if(me.email==='ereadman2013@gmail.com'&&confirm('Open dev panel?')){location.href='../dev.html'}})()</script>
  <div class="topbar">
    <div class="brand">
      <div class="logo">QC</div>
      <div>
        <div class="title">Calculator</div>
        <small style="color:var(--muted)">Quizcool</small>
      </div>
    </div>
    <div style="display:flex;gap:8px">
      <a class="btn" href="../index.html">Back</a>
      <a class="btn" href="#" onclick="sessionStorage.removeItem('qc_user');location.href='../auth.html'">Sign Out</a>
    </div>
  </div>
  <div class="wrap">
    <div class="calc">
      <div class="expr" id="expr"></div>
      <div class="display" id="disp">0</div>
      <div class="keys">
        <div class="key" data-k="C">C</div>
        <div class="key" data-k="DEL">DEL</div>
        <div class="key" data-k="%">%</div>
        <div class="key" data-k="/">/</div>
        <div class="key" data-k="7">7</div>
        <div class="key" data-k="8">8</div>
        <div class="key" data-k="9">9</div>
        <div class="key" data-k="*">*</div>
        <div class="key" data-k="4">4</div>
        <div class="key" data-k="5">5</div>
        <div class="key" data-k="6">6</div>
        <div class="key" data-k="-">-</div>
        <div class="key" data-k="1">1</div>
        <div class="key" data-k="2">2</div>
        <div class="key" data-k="3">3</div>
        <div class="key" data-k="+">+</div>
        <div class="key span2" data-k="0">0</div>
        <div class="key" data-k=".">.</div>
        <div class="key" data-k="=">=</div>
      </div>
      <div class="adv" id="adv">
        <div class="key" data-k="(">(</div>
        <div class="key" data-k=")">)</div>
        <div class="key" data-k="^">^</div>
        <div class="key" data-k="√">√</div>
        <div class="key" data-k="pi">π</div>
        <div class="key" data-k="sin">sin</div>
        <div class="key" data-k="cos">cos</div>
        <div class="key" data-k="tan">tan</div>
        <div class="key" data-k="e">e</div>
        <div class="key" data-k=",">,</div>
      </div>
    </div>
  </div>
  <script>
    var expr='';var disp=document.getElementById('disp');var exprEl=document.getElementById('expr')
    function show(){exprEl.textContent=expr;disp.textContent=disp.textContent}
    function append(v){expr+=v;exprEl.textContent=expr}
    function clearAll(){expr='';exprEl.textContent='';disp.textContent='0'}
    function del(){expr=expr.slice(0,-1);exprEl.textContent=expr}
    function evaluate(){if(!expr)return;var s=expr.replace(/π/g,'Math.PI').replace(/\be\b/g,'Math.E').replace(/√\(/g,'Math.sqrt(').replace(/\^/g,'**').replace(/sin\(/g,'Math.sin(').replace(/cos\(/g,'Math.cos(').replace(/tan\(/g,'Math.tan(')
      try{var r=Function('return '+s)();disp.textContent=String(r)}catch(e){disp.textContent='Error'}
    }
    document.querySelectorAll('.key').forEach(function(k){k.addEventListener('click',function(){var v=k.getAttribute('data-k');if(/^[0-9]$/.test(v))append(v);else if(v==='.')append('.');else if(['+','-','*','/','%','(',')',','].includes(v))append(v);else if(v==='^')append('^');else if(v==='√')append('√(');else if(v==='pi')append('π');else if(['sin','cos','tan'].includes(v))append(v+'(');else if(v==='e')append('e');else if(v==='=')evaluate();else if(v==='C')clearAll();else if(v==='DEL')del()})})
    show()
  </script>
</body>
</html>